<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<title>Happy Birthday Preethi ❤️ | Heart Shape Cake with Rose & Candles</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display:ital,wght@1,400;1,700&family=Poppins:wght@400;700&display=swap');

  *, *::before, *::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }
  html, body {
    min-height: 100vh;
    background: linear-gradient(135deg, #ffe5ec, #ff88b6);
    font-family: 'Poppins', sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    color: #6b2e3f;
    user-select: none;
    overflow-x: hidden;
    overflow-y: auto;
    position: relative;
  }
  body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: radial-gradient(circle, rgba(255, 100, 150, 0.3), transparent);
    z-index: -1;
    animation: backgroundGlow 8s ease-in-out infinite;
  }
  @keyframes backgroundGlow {
    0%, 100% { opacity: 0.7; }
    50% { opacity: 0.3; }
  }
  /* Password Page Styles */
  #passwordPage {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100vh;
    background: linear-gradient(135deg, #ff9ab6, #ffe5ec);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    z-index: 5000;
    opacity: 1;
    transition: opacity 1s ease;
  }
  #passwordPage.hidden {
    opacity: 0;
    pointer-events: none;
    visibility: hidden;
  }
  #passwordPage h1 {
    font-family: 'Great Vibes', cursive;
    font-size: 3rem;
    color: #c94071;
    text-shadow: 0 0 12px #ff93bb;
    margin-bottom: 20px;
    animation: titlePulse 3s ease-in-out infinite;
  }
  #passwordPage p {
    font-size: 1.2rem;
    color: #882d56;
    margin-bottom: 20px;
    font-style: italic;
  }
  #passwordInput {
    padding: 12px 20px;
    font-size: 1.1rem;
    border-radius: 25px;
    border: 2px solid #ff6398;
    outline: none;
    width: 200px;
    text-align: center;
    margin-bottom: 15px;
    background: #fff;
  }
  #passwordSubmit {
    padding: 12px 30px;
    font-size: 1.2rem;
    background: linear-gradient(145deg, #ff6398, #e33271);
    color: #fff;
    border: none;
    border-radius: 25px;
    cursor: pointer;
    box-shadow: 0 6px 20px rgba(227, 50, 113, 0.7);
    transition: transform 0.3s ease;
  }
  #passwordSubmit:hover {
    transform: scale(1.05);
  }
  #passwordError {
    color: #ff0000;
    font-size: 1rem;
    margin-top: 10px;
    display: none;
  }
  .heart-particle {
    position: absolute;
    width: 20px;
    height: 20px;
    background: #ff5a8e;
    clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
    opacity: 0.7;
    animation: floatHeart 5s linear forwards;
  }
  @keyframes floatHeart {
    0% { transform: translateY(0) scale(0.5); opacity: 0.7; }
    100% { transform: translateY(-100vh) scale(1.2); opacity: 0; }
  }
  /* Cartoon Animation Page Styles */
  #cartoonPage {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100vh;
    background: linear-gradient(135deg, #ffcccb, #ff69b4);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    z-index: 4000;
    opacity: 0;
    pointer-events: none;
    transition: opacity 1s ease;
  }
  #cartoonPage.show {
    opacity: 1;
    pointer-events: auto;
  }
  #cartoonPage h1 {
    font-family: 'Great Vibes', cursive;
    font-size: 3rem;
    color: #c94071;
    text-shadow: 0 0 12px #ff93bb;
    margin-bottom: 20px;
    animation: titlePulse 3s ease-in-out infinite;
  }
  .cartoon-character {
    position: absolute;
    width: 100px;
    height: 100px;
    object-fit: contain;
    animation: bounceCharacter 2s ease-in-out infinite;
  }
  #doraemon { left: 20%; top: 30%; }
  #shinchan { right: 20%; top: 30%; }
  #nobita { left: 15%; top: 60%; }
  #shizuka { right: 15%; top: 60%; }
  @keyframes bounceCharacter {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-20px); }
  }
  #cartoonMessage {
    font-family: 'Poppins', sans-serif;
    font-size: 1.5rem;
    color: #fff;
    background: rgba(255, 105, 180, 0.8);
    padding: 20px;
    border-radius: 15px;
    text-align: center;
    max-width: 80%;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
  }
  #proceedButton {
    margin-top: 20px;
    padding: 12px 30px;
    font-size: 1.2rem;
    background: linear-gradient(145deg, #ff6398, #e33271);
    color: #fff;
    border: none;
    border-radius: 25px;
    cursor: pointer;
    box-shadow: 0 6px 20px rgba(227, 50, 113, 0.7);
    transition: transform 0.3s ease;
  }
  #proceedButton:hover {
    transform: scale(1.05);
  }
  /* Original Styles (Unchanged) */
  header {
    margin: 2.5rem 1rem 1rem;
    text-align: center;
    width: 100%;
    max-width: 380px;
    z-index: 100;
  }
  header h1 {
    font-family: 'Great Vibes', cursive;
    font-size: 3.4rem;
    margin-bottom: 0.2rem;
    color: #c94071;
    text-shadow: 0 0 12px #ff93bb, 2px 2px 9px #a32f63;
    animation: titlePulse 3s ease-in-out infinite;
  }
  @keyframes titlePulse {
    0%, 100% { text-shadow: 0 0 12px #ff93bb, 2px 2px 9px #a32f63; }
    50% { text-shadow: 0 0 18px #ff93bb, 3px 3px 12px #a32f63; }
  }
  header p {
    font-size: 1.15rem;
    font-weight: 600;
    color: #882d56cc;
    line-height: 1.5;
    max-width: 360px;
    margin: 40px auto 0;
    font-style: italic;
    text-shadow: 0 0 5px #f7a1bf;
  }
  #timer {
    font-weight: 700;
    font-size: 1.15rem;
    color: #fff;
    background: #ff7aa2cc;
    padding: 12px 30px;
    border-radius: 40px;
    box-shadow: 0 8px 22px rgba(242, 76, 34, 0.5);
    margin-bottom: 25px;
    max-width: 95vw;
    width: max-content;
    text-align: center;
    font-variant-numeric: tabular-nums;
    position: relative;
    z-index: 2;
    animation: timerPulse 2s ease-in-out infinite;
  }
  @keyframes timerPulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.03); }
  }
  .balloon {
    position: absolute;
    width: 30px;
    height: 40px;
    background: radial-gradient(circle, #ff5a8e 40%, transparent 70%);
    clip-path: path('M15 40 C5 30, 0 20, 7 10 C10 5, 15 10, 15 10 C15 10, 20 5, 23 10 C30 20, 25 30, 15 40 Z');
    opacity: 0.7;
    z-index: 80;
    animation: floatBalloon 6s linear infinite;
  }
  .balloon::after {
    content: '';
    position: absolute;
    bottom: -10px;
    left: 50%;
    width: 2px;
    height: 10px;
    background: #ff5a8e;
    transform: translateX(-50%);
  }
  #timer .balloon:nth-child(1) { left: -40px; animation-delay: 0s; }
  #timer .balloon:nth-child(2) { right: -40px; animation-delay: 1s; }
  #timer .balloon:nth-child(3) { left: -60px; animation-delay: 2s; }
  #timer .balloon:nth-child(4) { right: -60px; animation-delay: 3s; }
  @keyframes floatBalloon {
    0% { transform: translateY(0) scale(0.5); opacity: 0; }
    20% { opacity: 0.7; }
    100% { transform: translateY(-100vh) scale(1.2) rotate(10deg); opacity: 0; }
  }
  .cake-wrapper {
    position: relative;
    width: 320px;
    max-width: 90vw;
    height: 360px;
    user-select: none;
    perspective: 1300px;
    margin-bottom: 3rem;
    z-index: 10;
  }
  .cake-heart {
    position: relative;
    width: 270px;
    height: 260px;
    margin: 0 auto;
    background:
      radial-gradient(circle at 68% 38%, #fd6e91 44%, transparent 49%),
      radial-gradient(circle at 32% 38%, #fd6e91 44%, transparent 49%);
    background-color: #d51f52;
    border-radius: 50% / 60%;
    box-shadow:
      inset 0 28px 40px rgba(255, 122, 162, 0.9),
      inset 0 -26px 40px rgba(141, 19, 44, 0.9),
      0 20px 40px rgba(192, 45, 82, 0.8);
    overflow: visible;
    cursor: default;
    transform: rotateX(18deg) rotateZ(-7deg);
    transition: transform 0.6s ease, box-shadow 0.6s ease;
    z-index: 10;
    animation: floatUpDown 5s ease-in-out infinite;
  }
  .cake-heart:hover {
    transform: rotateX(21deg) rotateZ(-3deg) scale(1.07);
    box-shadow:
      inset 0 36px 50px rgba(255, 120, 160, 1),
      inset 0 -28px 45px rgba(152, 21, 53, 1),
      0 26px 50px rgba(205, 40, 90, 1);
  }
  @keyframes floatUpDown {
    0%, 100% { transform: rotateX(18deg) rotateZ(-7deg) translateY(0); }
    50% { transform: rotateX(18deg) rotateZ(-7deg) translateY(-6px); }
  }
  .frosting-ring {
    position: absolute;
    top: 24px;
    left: 50%;
    width: 250px;
    height: 220px;
    border-radius: 135px 135px 85px 85px / 105px 105px 50px 50px;
    background: radial-gradient(circle at center top, #ffcae1, #ff7ea9);
    box-shadow:
      inset 0 15px 28px 2px #ff9ac0,
      inset 0 -15px 22px 5px #a71955,
      0 10px 38px 6px #ff6a92cc;
    transform: translateX(-50%);
    z-index: 20;
    animation: softGlow 4s ease-in-out infinite;
  }
  @keyframes softGlow {
    0%, 100% {
      box-shadow:
        inset 0 15px 28px 2px #ff9ac0,
        inset 0 -15px 22px 5px #a71955,
        0 10px 38px 6px #ff6a92cc;
    }
    50% {
      box-shadow:
        inset 0 20px 32px 3px #ffc9d3,
        inset 0 -18px 26px 6px #c23a60,
        0 12px 46px 7px #ffa1b9ee;
    }
  }
  .drip {
    position: absolute;
    bottom: 20px;
    width: 34px;
    height: 34px;
    background: #ffcfe0;
    border-radius: 0 0 18px 18px;
    box-shadow:
      inset 0 7px 8px #ee8caa,
      0 6px 10px rgba(233, 98, 143, 0.85);
    filter: drop-shadow(0 3px 4px #ffbbc7cc);
  }
  .drip:nth-child(1) { left: 18px; }
  .drip:nth-child(2) { left: 72px; height: 48px; bottom: 16px; }
  .drip:nth-child(3) { left: 116px; height: 40px; bottom: 18px; }
  .drip:nth-child(4) { left: 174px; height: 50px; bottom: 15px; }
  .drip:nth-child(5) { left: 210px; height: 38px; bottom: 20px; }
  .cake-text {
    position: absolute;
    width: 250px;
    left: 50%;
    top: 90px;
    transform: translateX(-50%);
    user-select: none;
    z-index: 190;
    pointer-events: none;
    color: #fff;
    text-shadow:
      1px 1px 6px #b32c57,
      0 0 10px #ff799a;
    font-weight: 700;
    text-align: center;
  }
  .cake-text .line1 {
    font-family: 'Great Vibes', cursive;
    font-size: 2.4rem;
    margin: 0 0 4px;
  }
  .cake-text .line2 {
    font-family: 'Great Vibes', cursive;
    font-size: 2rem;
  }
  .cake-text .line2 .heart {
    color: #ff5f8c;
    margin-left: 4px;
    animation: heartBeat 2s ease-in-out infinite;
  }
  .age-text {
    position: absolute;
    top: 130px;
    left: 50%;
    transform: translateX(-50%);
    font-family: 'Great Vibes', cursive;
    font-size: 1.8rem;
    color: #ff5f8c;
    text-shadow: 0 0 10px #fff, 0 0 20px #ff5f8c;
    animation: pulseAge 2s ease-in-out infinite;
    z-index: 180;
    pointer-events: none;
  }
  @keyframes heartBeat {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.2); }
  }
  @keyframes pulseAge {
    0%, 100% { transform: translateX(-50%) scale(1); text-shadow: 0 0 10px #fff, 0 0 20px #ff5f8c; }
    50% { transform: translateX(-50%) scale(1.1); text-shadow: 0 0 15px #fff, 0 0 30px #ff5f8c; }
  }
  .sparkle {
    position: absolute;
    width: 8px;
    height: 8px;
    background: #fff;
    border-radius: 50%;
    opacity: 0;
    animation: sparkleEffect 1.5s linear forwards;
    z-index: 185;
  }
  @keyframes sparkleEffect {
    0% { transform: scale(0); opacity: 0.8; }
    50% { transform: scale(1.5); opacity: 1; }
    100% { transform: scale(0); opacity: 0; }
  }
  .candles {
    position: absolute;
    bottom: 240px;
    left: 50%;
    width: 240px;
    max-width: 90vw;
    transform: translateX(-50%);
    display: flex;
    justify-content: space-around;
    pointer-events: auto;
    cursor: pointer;
    z-index: 200;
  }
  .candles .candle {
    position: relative;
    width: 12px;
    height: 50px;
    background: linear-gradient(145deg, #ffc75e, #cd9d25);
    border-radius: 6px;
    box-shadow: inset 0 5px 9px #c2aa2e, 0 2px 4px rgba(47, 40, 5, 0.25);
    filter: drop-shadow(0 2px 3px #b99d3f);
    display: flex;
    justify-content: center;
    align-items: flex-start;
    user-select: none;
    transition: transform 0.28s ease;
  }
  .candles .candle:hover {
    transform: translateY(-5px);
  }
  .candles .candle::after {
    content: '';
    position: absolute;
    top: 32px;
    left: 3.5px;
    width: 5px;
    height: 8px;
    background: #fff9a3;
    border-radius: 2px;
    box-shadow: inset 0 2px 4px #fce776;
  }
  .candles .flame {
    position: relative;
    width: 14px;
    height: 28px;
    background: radial-gradient(circle at center, #ffffff 40%, #fffa80 60%, #ff4500 85%, transparent 90%);
    clip-path: path('M7 28 C3 20, 0 12, 3 5 C5 2, 7 3, 7 3 C7 3, 9 2, 11 5 C14 12, 11 20, 7 28 Z');
    filter: drop-shadow(0 0 25px #ffd700);
    animation: flicker 1.2s infinite alternate ease-in-out;
    margin-top: -38px;
  }
  .candles .flame::before {
    content: '';
    position: absolute;
    top: 8px;
    left: 50%;
    width: 8px;
    height: 18px;
    background: radial-gradient(circle at center, #ffffff 50%, #ff8c00 80%, transparent 90%);
    clip-path: path('M4 18 C2 13, 0 7, 2 3 C3 1, 4 2, 4 2 C4 2, 5 1, 6 3 C8 7, 6 13, 4 18 Z');
    transform: translateX(-50%) rotate(-18deg);
    filter: drop-shadow(0 0 12px #ffa500);
  }
  @keyframes flicker {
    0%, 100% { opacity: 1; transform: translateX(0) scale(1); filter: drop-shadow(0 0 25px #ffd700); }
    50% { opacity: 0.8; transform: translateX(-2px) scale(1.05); filter: drop-shadow(0 0 30px #fff); }
  }
  .cake-rose {
    position: absolute;
    top: 150px;
    left: 50%;
    transform: translateX(-50%);
    width: 80px;
    height: 100px;
    z-index: 100;
    background: 
      radial-gradient(circle at 60% 30%, #c7263e 18%, transparent 38%),
      radial-gradient(circle at 40% 30%, #d0354a 18%, transparent 38%),
      radial-gradient(circle at center, #a91e2f 33%, #67151f 80%);
    border-radius: 50% 50% 45% 45% / 70% 70% 80% 80%;
    box-shadow:
      inset 0 8px 7px #8a1725,
      0 5px 7px 4px #9e2f47cc;
    animation: subtleGlow 3.5s ease-in-out infinite;
  }
  @keyframes subtleGlow {
    0%, 100% { box-shadow: inset 0 8px 7px #8a1725, 0 5px 7px 4px #9e2f47cc; }
    50% { box-shadow: inset 0 10px 9px #9a1a2a, 0 7px 9px 5px #b02f50cc; }
  }
  #ringPopup {
    position: absolute;
    bottom: 140px;
    left: calc(50% + 70px);
    width: 140px;
    height: 160px;
    background: linear-gradient(135deg, #e8eef4, #b5bdc7);
    border-radius: 42px 42px 95px 95px / 58px 58px 100px 100px;
    box-shadow:
      inset 0 22px 25px #f6f8fc,
      0 20px 50px rgba(0, 0, 0, 0.25),
      0 0 30px rgba(100, 150, 255, 0.5);
    transform: translateX(-50%) translateY(220%) scale(0);
    opacity: 0;
    transition: transform 1.6s cubic-bezier(0.6,0,0.4,1), opacity 1.6s ease;
    user-select: none;
    z-index: 280;
    pointer-events: none;
  }
  #ringPopup.show {
    transform: translateX(-50%) translateY(-40%) scale(1);
    opacity: 1;
    pointer-events: auto;
    animation: ringPop 1.3s cubic-bezier(0.45, 0, 0.15, 1) forwards;
  }
  #ringPopup.coming {
    animation: comeTowards 2s cubic-bezier(0.4,0,0.2,1) forwards;
    z-index: 300;
    pointer-events: none;
  }
  @keyframes ringPop {
    0% { transform: translateX(-50%) translateY(220%) scale(0); }
    60% { transform: translateX(-50%) translateY(-40%) scale(1.2); }
    85% { transform: translateX(-50%) translateY(-20%) scale(0.95); }
    100% { transform: translateX(-50%) translateY(-40%) scale(1); }
  }
  @keyframes comeTowards {
    0% { transform: translateX(-50%) translateY(-40%) scale(1); left: calc(50% + 70px); opacity: 1; }
    50% { transform: translateX(-50%) translateY(-150%) scale(2.5) rotate(15deg); left: 50%; opacity: 0.9; }
    100% { transform: translateX(-50%) translateY(-300%) scale(4) rotate(30deg); left: 50%; opacity: 0; }
  }
  #ringPopup .band {
    position: absolute;
    bottom: 28px;
    left: 50%;
    width: 100px;
    height: 35px;
    background: linear-gradient(135deg, #ffd700, #e6b800, #b8860b);
    border-radius: 20px;
    transform: translateX(-50%);
    box-shadow: 
      inset 0 8px 12px #ffeb3b,
      inset 0 -8px 12px #8b6508,
      0 0 20px rgba(255, 215, 0, 0.7),
      0 4px 15px rgba(0, 0, 0, 0.3);
  }
  #ringPopup .diamond {
    position: absolute;
    bottom: 65px;
    left: 50%;
    width: 50px;
    height: 50px;
    background: 
      radial-gradient(circle at 15% 15%, #ffffff 5%, #f0faff 20%, #d6eaff 50%, #a8d0ff 80%),
      radial-gradient(circle at 80% 80%, #ffffff 8%, #e6f4ff 25%, transparent 50%),
      linear-gradient(150deg, #ffffff, #b3e5fc, #4fc3f7);
    clip-path: polygon(50% 0%, 95% 35%, 80% 95%, 20% 95%, 5% 35%);
    border: 4px solid #e1f5fe;
    box-shadow: 
      0 0 70px #ffffff,
      inset 0 0 40px #e6f4ff,
      0 0 30px rgba(255, 255, 255, 0.9),
      inset 5px 5px 15px rgba(135, 206, 235, 0.7),
      inset -5px -5px 15px rgba(135, 206, 235, 0.7);
    transform: translateX(-50%) rotate(5deg);
    filter: drop-shadow(0 0 40px #ffffff) brightness(1.2);
    animation: kohinoorSparkle 1.8s ease-in-out infinite;
    cursor: default;
  }
  @keyframes kohinoorSparkle {
    0%, 100% { 
      filter: drop-shadow(0 0 40px #ffffff) brightness(1.2); 
      transform: translateX(-50%) rotate(5deg) scale(1); 
      box-shadow: 
        0 0 70px #ffffff,
        inset 0 0 40px #e6f4ff,
        0 0 30px rgba(255, 255, 255, 0.9),
        inset 5px 5px 15px rgba(135, 206, 235, 0.7),
        inset -5px -5px 15px rgba(135, 206, 235, 0.7);
    }
    50% { 
      filter: drop-shadow(0 0 60px #ffffff) brightness(1.5); 
      transform: translateX(-50%) rotate(-5deg) scale(1.2); 
      box-shadow: 
        0 0 90px #ffffff,
        inset 0 0 50px #e6f4ff,
        0 0 40px rgba(255, 255, 255, 1),
        inset 7px 7px 20px rgba(135, 206, 235, 0.9),
        inset -7px -7px 20px rgba(135, 206, 235, 0.9);
    }
  }
  #wearButton {
    position: absolute;
    bottom: -70px;
    left: calc(50% + 110px);
    transform: translateX(-50%);
    background: linear-gradient(145deg, #3b8fec, #205fb3);
    color: #fff;
    padding: 15px 42px;
    border-radius: 34px;
    font-weight: 700;
    font-size: 1.3rem;
    border: none;
    cursor: pointer;
    box-shadow: 0 8px 28px rgba(61, 140, 236, 0.85);
    opacity: 0;
    pointer-events: none;
    transition: all 0.3s ease;
    user-select: none;
    z-index: 290;
  }
  #wearButton.show {
    opacity: 1;
    pointer-events: auto;
  }
  #wearButton:hover {
    background: linear-gradient(145deg, #205fb3, #3b8fec);
    box-shadow: 0 10px 36px rgba(61, 169, 250, 1);
    transform: translateX(-50%) scale(1.05);
  }
  .knife {
    position: absolute;
    width: 230px;
    height: 48px;
    top: 150px;
    left: 50%;
    background: linear-gradient(170deg, #aab1b6, #575c6c);
    border-radius: 16px 16px 6px 6px;
    box-shadow: inset 0 3px 9px #7b848e, 0 7px 58px rgba(80, 90, 100, 0.95);
    transform-origin: center;
    transform: translateX(-50%) translateY(-285%) rotate(-38deg);
    opacity: 0;
    pointer-events: none;
    transition: transform 1.8s cubic-bezier(0.4,0,0.2,1), opacity 0.3s ease;
    z-index: 340;
  }
  .knife.visible {
    transform: translateX(-50%) translateY(90px) rotate(-38deg);
    animation: knifeCut 3.7s forwards;
    opacity: 1;
    pointer-events: auto;
  }
  @keyframes knifeCut {
    0%, 20% { transform: translateX(-50%) translateY(90px) rotate(-38deg); }
    55% { transform: translateX(-50%) translateY(180px) rotate(-38deg); }
    80% { transform: translateX(-50%) translateY(180px) rotate(-31deg); }
    100% { transform: translateX(-50%) translateY(90px) rotate(-38deg); }
  }
  .cake-slice {
    position: absolute;
    bottom: 60px;
    width: 150px;
    height: 165px;
    background: linear-gradient(135deg, #f8adc7, #b75a8e);
    border-radius: 110px 36px 63px 63px / 110px 75px 70px 70px;
    box-shadow: inset 0 16px 38px rgba(190, 78, 121, 0.95), 0 6px 26px rgba(182, 69, 124, 0.65);
    overflow: hidden;
    left: 50%;
    transform: translateX(-50%) translateX(165%);
    opacity: 0;
    transition: all 2.3s ease 3.2s;
    z-index: 350;
    filter: drop-shadow(0 8px 12px rgba(212, 74, 147, 0.95));
  }
  .cake-slice .frosting {
    border-radius: 70% 30% 45% 45% / 135% 80% 40% 40%;
    background: radial-gradient(circle at center, #fedbe6, #fb8bbc 75%);
    box-shadow: inset 0 15px 18px #ffadd6;
  }
  .cake-slice.visible {
    opacity: 1;
    transform: translateX(-50%) translateX(0);
  }
  #letterPopup {
    position: fixed;
    top: 50%;
    left: 50%;
    width: 90vw;
    max-width: 460px;
    max-height: 80vh;
    overflow-y: auto;
    background: radial-gradient(circle at center, #fff2fa 0%, #ffc7dc 100%);
    border: 6px solid #d6397a;
    border-radius: 24px;
    box-shadow: 0 22px 68px rgba(218, 35, 89, 0.95);
    transform: translate(-50%, 120vh) scale(0.8);
    opacity: 0;
    padding: 42px 46px 50px;
    font-family: 'Playfair Display', serif;
    font-style: italic;
    font-weight: 400;
    font-size: 1.18rem;
    color: #7c0a4a;
    line-height: 1.6;
    z-index: 3700;
    transition: transform 0.95s cubic-bezier(0.45, 0, 0.15, 1), opacity 0.95s ease;
    user-select: text;
  }
  #letterPopup.show {
    transform: translate(-50%, -50%) scale(1);
    opacity: 1;
  }
  #letterPopup.video-active {
    animation: letterGlow 2s ease-in-out infinite;
  }
  @keyframes letterGlow {
    0%, 100% { box-shadow: 0 22px 68px rgba(218, 35, 89, 0.95); }
    50% { box-shadow: 0 22px 68px rgba(218, 35, 89, 1), 0 0 30px rgba(255, 100, 150, 0.7); }
  }
  #letterPopup h2 {
    font-family: 'Great Vibes', cursive;
    font-size: 3rem;
    margin-bottom: 22px;
    color: #d9347a;
    text-shadow: 0 0 26px #ff8aa8;
    text-align: center;
  }
  #letterPopup pre {
    white-space: pre-wrap;
    margin: 0;
  }
  #letterPopup .close-btn {
    position: absolute;
    top: 18px;
    right: 24px;
    background: transparent;
    border: none;
    font-size: 2.6rem;
    color: #be2e65;
    cursor: pointer;
    font-weight: 700;
    transition: color 0.3s ease;
  }
  #letterPopup .close-btn:hover {
    color: #ff78ad;
  }
  #surpriseButton {
    display: block;
    margin: 20px auto 0;
    padding: 12px 36px;
    font-size: 1.2rem;
    font-weight: 700;
    color: #fff;
    background: linear-gradient(145deg, #ff6398, #e33271);
    border: none;
    border-radius: 30px;
    cursor: pointer;
    box-shadow: 0 6px 20px rgba(227, 50, 113, 0.7), 0 0 15px rgba(255, 100, 150, 0.5);
    animation: pulseBounce 2s ease-in-out infinite;
    transition: all 0.3s ease;
  }
  #surpriseButton:hover {
    background: linear-gradient(145deg, #e33271, #ff6398);
    box-shadow: 0 8px 25px rgba(227, 50, 113, 0.9), 0 0 20px rgba(255, 100, 150, 0.7);
  }
  #surpriseButton.hidden {
    opacity: 0;
    pointer-events: none;
  }
  @keyframes pulseBounce {
    0%, 100% {
      transform: scale(1);
      box-shadow: 0 6px 20px rgba(227, 50, 113, 0.7), 0 0 15px rgba(255, 100, 150, 0.5);
    }
    50% {
      transform: scale(1.1) translateY(-5px);
      box-shadow: 0 10px 30px rgba(227, 50, 113, 0.9), 0 0 25px rgba(255, 100, 150, 0.7);
    }
  }
  #surpriseVideoContainer {
    margin-top: 20px;
    width: 100%;
    max-width: 360px;
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 1s ease, transform 1s ease;
  }
  #surpriseVideoContainer.show {
    opacity: 1;
    transform: translateY(0);
  }
  #surpriseVideoContainer video {
    width: 100%;
    border-radius: 12px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
  }
  .confetti {
    position: fixed;
    width: 10px;
    height: 10px;
    background: #ff6398;
    border-radius: 50%;
    opacity: 0.8;
    animation: confettiFall 5s linear forwards;
    pointer-events: none;
    z-index: 1000;
  }
  @keyframes confettiFall {
    0% { transform: translateY(-20vh) rotate(0deg); opacity: 0.8; }
    100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
  }
</style>
</head>
<body>
<!-- Password Page -->
<div id="passwordPage">
  <h1>Unlock the Magic, Baby! ❤️</h1>
  <p>Hint: Our Birthdates (think special numbers) 🥰</p>
  <input type="password" id="passwordInput" placeholder="Enter Password" aria-label="Enter password to unlock birthday surprise" maxlength="4">
  <button id="passwordSubmit" aria-label="Submit password">Unlock ❤️</button>
  <p id="passwordError" aria-live="assertive">Oops! Wrong password, try again!</p>
</div>

<!-- Cartoon Animation Page -->
<div id="cartoonPage" hidden>
  <h1>Happy Birthday, Preethi! 🎉</h1>
  <img id="doraemon" class="cartoon-character" src="dd.webp" alt="Doraemon character">
  <img id="shinchan" class="cartoon-character" src="sh.jpg" alt="Shinchan character">
  <img id="nobita" class="cartoon-character" src="n.webp" alt="Nobita character">
  <img id="shizuka" class="cartoon-character" src="s.jpg" alt="Shizuka character">
  <div id="cartoonMessage">Doraemon, Shinchan, Nobita, and Shizuka wish you a super fun birthday, Preethi! 🥳 Made with all my love for you, baby! 💖</div>
  <button id="proceedButton" aria-label="Proceed to cake page">Let's See Your Cake! 🎂</button>
</div>

<!-- Original Content (Unchanged) -->
<header>
  <h1>Happy Birthday Varnith's Preethi <span aria-hidden="true">❤️</span></h1>
  <p>Wishing you a day full of love, laughter, and unforgettable memories!</p>
</header>

<div id="timer" aria-live="polite" aria-atomic="true" role="timer" tabindex="0">
  <div class="balloon"></div>
  <div class="balloon"></div>
  <div class="balloon"></div>
  <div class="balloon"></div>
  Loading time...
</div>

<div class="cake-wrapper" role="img" aria-label="3D heart-shaped chocolate cake with three burning heart-shaped candles and diamond ring" tabindex="-1">
  <div class="cake-heart" aria-hidden="true">
    <div class="frosting-ring" aria-hidden="true">
      <div class="drip"></div><div class="drip"></div><div class="drip"></div><div class="drip"></div><div class="drip"></div>
    </div>
    <div class="cake-text" aria-hidden="true" role="presentation">
      <div class="line1">Happy Birthday</div>
      <div class="line2">Preethi💋🌹🫂 <span class="heart">❤️</span></div>
      <div class="age-text">19</div>
    </div>
    <div class="cake-rose" aria-hidden="true"></div>
  </div>

  <div class="candles" role="list" aria-label="Three burning candles with heart-shaped flames">
    <div class="candle" role="listitem" aria-label="Candle 1"><div class="flame"></div></div>
    <div class="candle" role="listitem" aria-label="Candle 2"><div class="flame"></div></div>
    <div class="candle" role="listitem" aria-label="Candle 3"><div class="flame"></div></div>
  </div>

  <div id="ringPopup" role="img" aria-label="Diamond ring coming towards you" tabindex="-1" aria-hidden="true" style="left: calc(50% + 70px);">
    <div class="band"></div>
    <div class="diamond"></div>
  </div>

  <button id="wearButton" aria-label="It's for you, wear it baby" hidden style="left: calc(50% + 90px);">PRESS IT WIFEYYY ❤️💍🧿</button>

  <div class="knife" id="knife" aria-hidden="true"></div>

  <div class="cake-slice" id="cakeSlice" aria-hidden="true">
    <div class="frosting" aria-hidden="true"><div class="drip"></div><div class="drip"></div><div class="drip"></div></div>
  </div>
</div>

<button id="cutButton" aria-label="Release the Love button" style="padding: 16px 42px; font-size: 1.3rem; border-radius: 36px; background: linear-gradient(145deg,#ff6398,#e33271); color: white; border: none; cursor: pointer; box-shadow: 0 10px 35px rgba(227,50,113,.9); transition: all 0.3s ease; user-select:none;">Release the Love ❤️</button>

<div id="letterPopup" role="dialog" aria-modal="true" aria-labelledby="letterTitle" aria-describedby="letterDesc" hidden>
  <button class="close-btn" aria-label="Close message">×</button>
  <h2 id="letterTitle">A Special Message for Preethi ❤️ from Husband Varnith ❤️</h2>
  <pre id="letterDesc">
💌 To My Love — Preethiii 💋🧿

HAPPY BIRTHDAY meri wife, dost, best friend, girlfriend — meri sab kuch 💖✨

Pichle saal se leke is saal tak... humare beech kitne pyaar bhare pal 🥺, kitne kalesh, kitne jhagde, kitna roye hum dono... sirf humein hi pata hai humari struggle 💔

Jo humne ek dusre ke liye tadap ke mehsoos kiya hai... usse koi kabhi samajh nahi sakta 💞

Abhi jo thodi dooriyan chal rahi hain baby… please kabhi yeh mat sochna ki main tujhe kam pyaar karta hoon 😢
Na main pichle saal cake katwa paya… na is saal tere saath hoon… lekin main ne yeh moment 20-30 dinon se plan kiya hai 🥹🎂
Samne nahi ho toh kya hua? Main aise hi cake katwa doonga, lekin sirf tere liye 💝

Main hamesha khud ko behtar banane ki koshish kar raha hoon — tere liye, humare liye 💪💍
Main tujhe best dunga baby, TRUST ME... I will never let your expectations down 🫶🏻

Tere bina meri subah shuru nahi hoti… na meri raat khatam hoti hai 🌅🌙
Aur mujhe pata hai… tere bhi yahi haal hain 🫂💘

Jaldi shaadi karlo na mujhse 🥹
Main tujhe apne saath zindagi bhar rakhna chahta hoon 💒
Tu insaan nahi, ek adbhut tofa hai mere liye 🎁💫
Tere jaisa insaan na is duniya mein, na iss brahmand mein 💫🌌

Tu sundar hai, samajhdar hai, pyaar karne wali hai… aur haan… ek bachi bhi hai kabhi kabhi 😂💃🏼

Tu ne mere liye jo kiya — jo courage tu ne dikhaya, jo baatein suni, jo aansu bahaaye, jo maar khayi —
Main kabhi nahi bhool sakta 🥺❤️

Main jitna bhi kuch kar loon, tere samne woh sab kuch kam padega 😭💍

I LOVE YOU
I love you more
I love you every second
I love you till my last breath 🫀

Main tujhe hamesha pyaar karta rahunga
Forever & Ever 💞💘

Tere har struggle mein, har khushi mein, har hansi, har aansu, har muskaan mein main tere saath hoon
You are my ENTIRE WORLD 🌍💖

Enjoy your birthday… I mean my birthday… hahaha… OUR BIRTHDAY BABY! 🎉🎂💃🏻

💝 VARNITH’S ❤️🫂 PREETHIII 💋🧿
Tera boyfriend 👦🏻, husband 👨🏻‍💼, pati ❤️, dost 🤝, bestfriend 💬 — Sab Kuch🫂   </pre>
  <button id="surpriseButton" aria-label="Reveal a special surprise video">Unwrap Your Surprise 🎁</button>
  <div id="surpriseVideoContainer" aria-hidden="true">
    <video id="surpriseVideo" controls>
      <source src="varnithpreethi.mp4" type="video/mp4">
    </video>
  </div>
</div>

<audio id="birthdaySong" controls autoplay loop>
  <source src="varnithpreethi.mp3">
</audio>

<script>
  // Password Page Logic
  const passwordPage = document.getElementById('passwordPage');
  const passwordInput = document.getElementById('passwordInput');
  const passwordSubmit = document.getElementById('passwordSubmit');
  const passwordError = document.getElementById('passwordError');
  const cartoonPage = document.getElementById('cartoonPage');
  const proceedButton = document.getElementById('proceedButton');
  const mainContent = document.querySelectorAll('header, #timer, .cake-wrapper, #cutButton, #letterPopup, #birthdaySong');

  // Initially hide main content
  mainContent.forEach(el => el.style.display = 'none');

  // Create floating hearts on password page
  function createHeartParticle() {
    const heart = document.createElement('div');
    heart.className = 'heart-particle';
    heart.style.left = `${Math.random() * 100}%`;
    heart.style.animationDelay = `${Math.random() * 3}s`;
    passwordPage.appendChild(heart);
    setTimeout(() => heart.remove(), 5000);
  }
  setInterval(createHeartParticle, 500);

  // Password check
  passwordSubmit.onclick = () => {
    if (passwordInput.value === '1730') {
      passwordPage.classList.add('hidden');
      setTimeout(() => {
        passwordPage.style.display = 'none';
        cartoonPage.hidden = false;
        cartoonPage.classList.add('show');
      }, 1000);
    } else {
      passwordError.style.display = 'block';
      passwordInput.value = '';
      setTimeout(() => passwordError.style.display = 'none', 2000);
    }
  };

  // Handle Enter key for password submission
  passwordInput.addEventListener('keydown', (e) => {
    if (e.key === 'Enter') {
      passwordSubmit.click();
    }
  });

  // Proceed to cake page
  proceedButton.onclick = () => {
    cartoonPage.classList.remove('show');
    setTimeout(() => {
      cartoonPage.hidden = true;
      mainContent.forEach(el => el.style.display = '');
      for (let i = 0; i < 15; i++) {
        setTimeout(createConfetti, i * 100);
      }
    }, 1000);
  };

  // Original Script (Unchanged)
  const birthday = new Date(2006, 4, 30, 0, 0);
  const timerEl = document.getElementById('timer');
  const ringPopup = document.getElementById('ringPopup');
  const wearButton = document.getElementById('wearButton');
  const cutButton = document.getElementById('cutButton');
  const knife = document.getElementById('knife');
  const cakeSlice = document.getElementById('cakeSlice');
  const letterPopup = document.getElementById('letterPopup');
  const closeBtn = letterPopup.querySelector('.close-btn');
  const surpriseButton = document.getElementById('surpriseButton');
  const surpriseVideoContainer = document.getElementById('surpriseVideoContainer');
  const surpriseVideo = document.getElementById('surpriseVideo');
  const candles = document.querySelectorAll('.candles .candle');

  function updateTimer() {
    const nowUtc = new Date();
    const ISToffset = 330;
    const nowIST = new Date(nowUtc.getTime() + (ISToffset + nowUtc.getTimezoneOffset()) * 60000);
    let delta = Math.floor((nowIST - birthday) / 1000);
    if (delta < 0) {
      timerEl.textContent = "Happy Birthday!";
      return;
    }
    let years = Math.floor(delta / (365.25 * 24 * 3600));
    delta -= years * 365.25 * 24 * 3600;
    let days = Math.floor(delta / (24 * 3600));
    delta -= days * 24 * 3600;
    let hours = Math.floor(delta / 3600);
    delta -= hours * 3600;
    let minutes = Math.floor(delta / 60);
    let seconds = delta - minutes * 60;
    timerEl.textContent = `You are ${years} years, ${days} days, ${hours} hours, ${minutes} minutes, and ${seconds} seconds young (IST).`;
  }
  updateTimer();
  setInterval(updateTimer, 1000);

  function createConfetti() {
    const confetti = document.createElement('div');
    confetti.className = 'confetti';
    confetti.style.left = `${Math.random() * 100}%`;
    confetti.style.animationDelay = `${Math.random() * 2}s`;
    confetti.style.background = ['#ff6398', '#e33271', '#ff9ab6', '#ffd0e0'][Math.floor(Math.random() * 4)];
    document.body.appendChild(confetti);
    setTimeout(() => confetti.remove(), 5000);
  }

  function createSparkle() {
    const sparkle = document.createElement('div');
    sparkle.className = 'sparkle';
    const ageText = document.querySelector('.age-text');
    const rect = ageText.getBoundingClientRect();
    const cakeRect = document.querySelector('.cake-heart').getBoundingClientRect();
    sparkle.style.left = `${rect.left - cakeRect.left + Math.random() * rect.width}px`;
    sparkle.style.top = `${rect.top - cakeRect.top + Math.random() * rect.height}px`;
    document.querySelector('.cake-heart').appendChild(sparkle);
    setTimeout(() => sparkle.remove(), 1500);
  }
  setInterval(createSparkle, 500);

  function blowCandles() {
    candles.forEach(candle => {
      const flame = candle.querySelector('.flame');
      if (flame) {
        flame.style.animation = 'blowOut 2.5s forwards';
      }
    });
  }

  cutButton.onclick = () => {
    cutButton.disabled = true;
    cutButton.style.cursor = 'default';
    knife.classList.add('visible');
    cakeSlice.classList.add('visible');
    setTimeout(() => {
      blowCandles();
      ringPopup.classList.add('show');
      ringPopup.setAttribute('aria-hidden', 'false');
      wearButton.hidden = false;
      wearButton.classList.add('show');
      document.getElementById('birthdaySong').play();
      for (let i = 0; i < 20; i++) {
        setTimeout(createConfetti, i * 100);
      }
    }, 3500);
  };

  wearButton.onclick = () => {
    ringPopup.classList.remove('show');
    ringPopup.classList.add('coming');
    ringPopup.setAttribute('aria-hidden', 'true');
    wearButton.classList.remove('show');
    wearButton.hidden = true;
    setTimeout(() => {
      ringPopup.classList.add('coming');
      ringPopup.style.transform = 'translateX(-50%) translateY(220%) scale(0)';
      ringPopup.style.opacity = '0';
      letterPopup.hidden = false;
      setTimeout(() => letterPopup.classList.add('show'), 50);
      for (let i = 0; i < 15; i++) {
        setTimeout(createConfetti, i * 100);
      }
    }, 2000);
  };

  surpriseButton.onclick = () => {
    surpriseButton.classList.add('hidden');
    surpriseVideoContainer.classList.add('show');
    surpriseVideoContainer.setAttribute('aria-hidden', 'false');
    letterPopup.classList.add('video-active');
    surpriseVideo.play();
    for (let i = 0; i < 10; i++) {
      setTimeout(createConfetti, i * 100);
    }
  };

  closeBtn.onclick = () => {
    letterPopup.classList.remove('show', 'video-active');
    surpriseVideo.pause();
    surpriseVideo.currentTime = 0;
    surpriseVideoContainer.classList.remove('show');
    surpriseVideoContainer.setAttribute('aria-hidden', 'true');
    surpriseButton.classList.remove('hidden');
    let song = document.getElementById('birthdaySong');
    song.pause();
    song.currentTime = 0;
    setTimeout(() => letterPopup.hidden = true, 600);
  };

  window.addEventListener('keydown', e => {
    if (e.key === 'Escape' && !letterPopup.hidden) {
      letterPopup.classList.remove('show', 'video-active');
      surpriseVideo.pause();
      surpriseVideo.currentTime = 0;
      surpriseVideoContainer.classList.remove('show');
      surpriseVideoContainer.setAttribute('aria-hidden', 'true');
      surpriseButton.classList.remove('hidden');
      let song = document.getElementById('birthdaySong');
      song.pause();
      song.currentTime = 0;
      setTimeout(() => letterPopup.hidden = true, 600);
    }
  });

  const style = document.createElement('style');
  style.textContent = `
    @keyframes blowOut {
      0% { opacity: 1; transform: scale(1) translateY(0); }
      50% { opacity: 0.5; transform: scale(0.5) translateY(-15px); }
      100% { opacity: 0; transform: scale(0) translateY(-30px); }
    }
  `;
  document.head.appendChild(style);

  // Floating decorations: hearts, balloons, kisses
  function createFloatingChar(char, color, size = 20, duration = 5) {
    const el = document.createElement("div");
    el.textContent = char;
    el.style.position = "fixed";
    el.style.left = `${Math.random() * 100}vw`;
    el.style.bottom = "-40px";
    el.style.fontSize = `${size + Math.random() * 10}px`;
    el.style.color = color;
    el.style.zIndex = "90";
    el.style.userSelect = "none";
    el.style.pointerEvents = "none";
    el.style.animation = `floatUp ${duration}s linear forwards`;
    document.body.appendChild(el);
    el.addEventListener("animationend", () => el.remove());
  }
  setInterval(() => {
    const items = [
      ["🎈", "#ff5a8e", 30],
      ["❤️", "#e62265", 25],
      ["💋", "#f05158", 22],
    ];
    const choice = items[Math.floor(Math.random() * items.length)];
    createFloatingChar(choice[0], choice[1], choice[2]);
  }, 300);

  const floatStyle = document.createElement('style');
  floatStyle.textContent = `
    @keyframes floatUp {
      0% { transform: translateY(0) scale(1) rotate(0deg); opacity: 1; }
      100% { transform: translateY(-700px) scale(0.6) rotate(360deg); opacity: 0; }
    }
  `;
  document.head.appendChild(floatStyle);
</script>
</body>
</html>